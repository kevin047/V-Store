<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21BCE230 Validation Form</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');
        *{
            margin:0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            /* background: radial-gradient( #ff9a9e 0%, #ff9a9e 20%, #fad0c4 20%,
             #fad0c4 40%, #ffd1ff 40%, #ffd1ff 60%, #fbc2eb 60%, #fbc2eb 80%, #a6c1ee 80%, #a6c1ee 100%); */
            /* background-image: url(https://coolmaterial.com/wp-content/uploads/2017/08/Best-Desktop-Accessories-header.jpg); */
            background-image: url(https://thumbs.dreamstime.com/b/online-shopping-promotional-sale-banner-fast-shopping-cart-full-colorful-bags-gifts-boxes-online-shopping-promotional-sale-168812516.jpg);
            /* background-image: url(https://th.bing.com/th/id/R.f32735c3f0fcc5b2672ee35d5cc1d818?rik=YIOKqR72oJbtaA&pid=ImgRaw&r=0); */
            background-size: cover;
        }
        main{
            /* background: transparent; */
            backdrop-filter: blur(20px);
            background:linear-gradient(rgba(255,255,255,0.3) 70%,rgba(5,4,46,0.5));
            /* border:8px double rgb(3, 60, 60); */
            box-shadow: 0 0 10px 0 rgb(3, 60, 60);
            max-width: 47rem;
            margin: 1rem auto;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.3rem;
            font-family: 'Poppins';
            font-weight: 600;
            letter-spacing: 0.07ch;
            /* z-index: 999; */
        }
        .field{
            padding: 10px 0px 0px;
            margin: 3px;
        }
        .password, #password, #retypepassword, .mobilegender{
            display:inline-block;
            width: 40%;
            margin-right:1rem;
        }
        .password,.retypepassword{
            padding: 6px 0;
            text-indent: 0.3ch;
        }
        .password,.mobilegender, .dateyear{
            margin-top: 25px;
        }
        .gender{
            display: inline;
            margin-left:4rem;
            /* border: 1px solid black; */
            padding: 6px;
            border-top:1px solid black;
            border-bottom:1px solid black;
        }
        .gender input{
            scale: 1.3;
        }
        .gender input:focus{
            box-shadow: none;
        }
        input,select{
            font-size: 1rem;    
            padding: 8px;
            margin: 4px 1px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border: 3px solid #333;
            border-radius: 10px;
            /* display: inline;  */
        }
        input:focus,select:focus{
            box-shadow: -2px 5px 7px 0px black;
            scale: 1.01;
            transition: 0.2s;
        }
        #email{
            width: 55.4%;
        }
        label{
            margin: 0 5px;
        }
        select{
            padding: 8px;
            font-size: 1rem;
            min-width: 40%;
            margin-left:7rem;
        }
        #clear,#submit{
            margin-top: 20px;
            width: 20%;
            font-size: 1.3rem;
            margin-right: 7px;
            cursor: pointer;
        }
        #clear:hover,#submit:hover,#clear:focus,#submit:focus{
            box-shadow: 0 0 5px 0 white;
            scale: unset;
            color: aliceblue;
            background-color: #333;
            outline: 3px solid #333;
            outline-offset: 1px;
            transition: 0.4s;
        }
        #name_error,#email_error,#pass_error,#mobile_error{
            all:unset;
            font-size: 1rem;
            color:red;
        }
        .heading{
            text-align: center;
            font-size: 2rem;
            text-decoration: underline;
            text-underline-offset: 6px;
            font-weight: 700;
            color: rgb(3, 60, 60);
            text-shadow: -1px 2px 0px hsl(0, 0%, 80%);
        }
    </style>
</head>
<body>
    <main>

        <div class="heading">Register to V'Store</div>
        <!-- <form > -->
            <div class="field">Full Name*</div>
            <div class="name">
                <input type="text" id="fname" placeholder="First Name">
                <input type="text" id="mname" placeholder="Middle Name">
                <input type="text" id="lname" placeholder="Last Name">
            </div>
            <div id="name_error"></div>

            <div class="field">Email*</div>
            <div class="email">
                <input type="email" id="email" placeholder="abc@gmail.com">
            </div>
            <div id="email_error"></div>

            <div>
                <div class="password">Password*</div>
                <div class="password">Retype Password*</div>
                <input type="password" id="password">
                <input type="password" id="retypepassword">
            </div>
            <div id="pass_error"></div>

            <div>
                <div class="mobilegender">Mobile No.*</div>
                <div class="mobilegender">Gender</div>
                <input type="text" id="mobileno">
                <div class="gender">
                <input type="radio" name="gender" id="male"><label for="male" class="field">Male</label>
                <input type="radio" name="gender" id="female"><label for="female" class="field">Female</label>
                <input type="radio" name="gender" id="others" checked><label for="others" class="field">Not to Specify</label>
                </div>
            </div>
            <div id="mobile_error"></div>

            <div>
                <div class="dateyear">Date</div>
                <input type="date" id="date" style="scale:none;" 
                onfocus="this.style.boxShadow='-5px 5px 10px 0px black'" onblur="this.style.boxShadow=''"
                checked>
                
            </div>
            <div class="field">
                <input type="reset" id="clear" onclick="reset()">
                <input type="submit" id="submit" onclick="validation()">
            </div>

        
        <!-- </form> -->
    </main>

    <script>
        function validation(){

            let flag=true
            /*Name Validation*/
            let fname=document.getElementById("fname").value;
            let mname=document.getElementById("mname").value;
            let lname=document.getElementById("lname").value;
            if(fname==""){
                flag=false
                document.getElementById("name_error").innerHTML="Enter First Name";
            }
            else if(mname==""){
                flag=false
                document.getElementById("name_error").innerHTML="Enter Middle Name";
            }
            else if(lname==""){
                flag=false
                document.getElementById("name_error").innerHTML="Enter Last Name";
            }
            else{
                document.getElementById("name_error").innerHTML="";
            }
            /*Name Validation END*/

            /*Email Validation*/
            let email=document.getElementById("email").value;
            email=email.toLowerCase();
            if(email==""){
                flag=false
                document.getElementById("email_error").innerHTML="Enter Email"
            }
            else{
                
                document.getElementById("email_error").innerHTML=""
            }
            /*Email Validation END*/            

            /*Password Validation*/
            let password=document.getElementById("password").value
            let retypepassword=document.getElementById("retypepassword").value
            let uppercase_condition=/[A-Z]/.test(password)
            let lowercase_condition=/[a-z]/.test(password)
            let digit_condition=/\d/.test(password)
            let min_length_condition = password.length>=8
            if(uppercase_condition && lowercase_condition && digit_condition && min_length_condition){
                if(password===retypepassword){
                    document.getElementById("pass_error").innerHTML=""
                }
                else{
                    flag=false
                    document.getElementById("pass_error").innerHTML="Password and Retype Password must be same"
                }
            }
            else{
                flag=false
                document.getElementById("pass_error").innerHTML="Password must contain digits, UpperCase, \
                LowerCase and minimum 8 characters"
            }
            /*Password Validation END*/

            /*Mobile No. Validation*/
            let mobileno=document.getElementById("mobileno").value;
            if(mobileno.length==10 && /^\d{10}$/.test(mobileno)){
                document.getElementById("mobile_error").innerHTML=""
            }
            else{
                flag=false
                document.getElementById("mobile_error").innerHTML="Enter Valid Mobile No."
            }
            /*Mobile No. Validation END*/

            /*Today's Date if date is blanked*/
            let date=document.getElementById("date").value
            if(date==""){
                let today=new Date().toISOString().split('T')[0];
                document.getElementById("date").value=today;
            }

            



            if(flag==true){
                alert('Form is Successfully submitted.\n Now this page will redirect you to Main Page')
                data = {"email": email,"fname":fname, "passw":password}
                window.localStorage.setItem(String(email),JSON.stringify(data))
                // window.location.href="21BCE230_Practical-9.html"
                window.location.href="login.html"
            }
        }
        function reset(){
            document.getElementById("name_error").innerHTML=""
            document.getElementById("mobile_error").innerHTML=""
            document.getElementById("pass_error").innerHTML=""
            document.getElementById("email_error").innerHTML=""
            document.getElementById("date").value=""
        }
    </script>
</body>
</html>